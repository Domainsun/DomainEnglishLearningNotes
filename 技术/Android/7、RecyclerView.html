<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RecyclerView | Domainsun的英语自学笔记</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="英语学习手册,语法,英语学习方法,英语工具资源,背单词方法">
    
    <link rel="preload" href="/assets/css/0.styles.0cf1db6b.css" as="style"><link rel="preload" href="/assets/js/app.75a2606c.js" as="script"><link rel="preload" href="/assets/js/3.7b5fc60a.js" as="script"><link rel="preload" href="/assets/js/1.84786563.js" as="script"><link rel="preload" href="/assets/js/72.d583bcc1.js" as="script"><link rel="prefetch" href="/assets/js/10.f59203a1.js"><link rel="prefetch" href="/assets/js/100.010d14e1.js"><link rel="prefetch" href="/assets/js/101.8278cbc2.js"><link rel="prefetch" href="/assets/js/102.331de778.js"><link rel="prefetch" href="/assets/js/103.6ad07d2a.js"><link rel="prefetch" href="/assets/js/104.ccde0b66.js"><link rel="prefetch" href="/assets/js/105.b965572a.js"><link rel="prefetch" href="/assets/js/106.77edbdf3.js"><link rel="prefetch" href="/assets/js/107.3027eb1a.js"><link rel="prefetch" href="/assets/js/108.17396dbc.js"><link rel="prefetch" href="/assets/js/109.7eae1616.js"><link rel="prefetch" href="/assets/js/11.3ea8a968.js"><link rel="prefetch" href="/assets/js/110.889c70dd.js"><link rel="prefetch" href="/assets/js/111.5f5759e6.js"><link rel="prefetch" href="/assets/js/112.46632438.js"><link rel="prefetch" href="/assets/js/113.e52a8dff.js"><link rel="prefetch" href="/assets/js/114.4cf8ce8b.js"><link rel="prefetch" href="/assets/js/115.ee1fde1b.js"><link rel="prefetch" href="/assets/js/116.c5b5c50d.js"><link rel="prefetch" href="/assets/js/117.0165856e.js"><link rel="prefetch" href="/assets/js/118.25c54d46.js"><link rel="prefetch" href="/assets/js/119.f4c39a82.js"><link rel="prefetch" href="/assets/js/12.778a3f26.js"><link rel="prefetch" href="/assets/js/120.df02ecf3.js"><link rel="prefetch" href="/assets/js/121.bf7dda66.js"><link rel="prefetch" href="/assets/js/122.b6f17cbf.js"><link rel="prefetch" href="/assets/js/123.553009f5.js"><link rel="prefetch" href="/assets/js/124.78dd2967.js"><link rel="prefetch" href="/assets/js/125.b956d8f9.js"><link rel="prefetch" href="/assets/js/126.60958c96.js"><link rel="prefetch" href="/assets/js/127.cf7b03ea.js"><link rel="prefetch" href="/assets/js/128.fd32762b.js"><link rel="prefetch" href="/assets/js/129.4be5e017.js"><link rel="prefetch" href="/assets/js/130.af921229.js"><link rel="prefetch" href="/assets/js/131.d32a3073.js"><link rel="prefetch" href="/assets/js/132.9c6555c3.js"><link rel="prefetch" href="/assets/js/133.f365cd5b.js"><link rel="prefetch" href="/assets/js/134.7fa44463.js"><link rel="prefetch" href="/assets/js/135.5b24b8d3.js"><link rel="prefetch" href="/assets/js/136.cfb85c3b.js"><link rel="prefetch" href="/assets/js/137.72bc5461.js"><link rel="prefetch" href="/assets/js/138.b57eb0b6.js"><link rel="prefetch" href="/assets/js/139.a131b135.js"><link rel="prefetch" href="/assets/js/140.fcba23ba.js"><link rel="prefetch" href="/assets/js/141.4c7c54f2.js"><link rel="prefetch" href="/assets/js/142.d262cae7.js"><link rel="prefetch" href="/assets/js/143.c8a89b4f.js"><link rel="prefetch" href="/assets/js/144.bfd9e69e.js"><link rel="prefetch" href="/assets/js/145.8d649578.js"><link rel="prefetch" href="/assets/js/146.f45e0061.js"><link rel="prefetch" href="/assets/js/147.4e7518db.js"><link rel="prefetch" href="/assets/js/15.cda47e54.js"><link rel="prefetch" href="/assets/js/16.fb57443f.js"><link rel="prefetch" href="/assets/js/17.c9efba56.js"><link rel="prefetch" href="/assets/js/18.e1216b3c.js"><link rel="prefetch" href="/assets/js/19.14a882c9.js"><link rel="prefetch" href="/assets/js/2.8f91be42.js"><link rel="prefetch" href="/assets/js/20.019fe389.js"><link rel="prefetch" href="/assets/js/21.f28e4a2e.js"><link rel="prefetch" href="/assets/js/22.faa48535.js"><link rel="prefetch" href="/assets/js/23.363c05b4.js"><link rel="prefetch" href="/assets/js/24.a81f0683.js"><link rel="prefetch" href="/assets/js/25.e1793479.js"><link rel="prefetch" href="/assets/js/26.14af8cf8.js"><link rel="prefetch" href="/assets/js/27.1a97081c.js"><link rel="prefetch" href="/assets/js/28.d4929efd.js"><link rel="prefetch" href="/assets/js/29.300d28f7.js"><link rel="prefetch" href="/assets/js/30.6572996b.js"><link rel="prefetch" href="/assets/js/31.d7b50c38.js"><link rel="prefetch" href="/assets/js/32.f827013d.js"><link rel="prefetch" href="/assets/js/33.11143a07.js"><link rel="prefetch" href="/assets/js/34.9c9d7d30.js"><link rel="prefetch" href="/assets/js/35.4ba4fe5f.js"><link rel="prefetch" href="/assets/js/36.bb76d201.js"><link rel="prefetch" href="/assets/js/37.8d894fd0.js"><link rel="prefetch" href="/assets/js/38.eab8f7b1.js"><link rel="prefetch" href="/assets/js/39.a14804b8.js"><link rel="prefetch" href="/assets/js/4.f87653e8.js"><link rel="prefetch" href="/assets/js/40.5da7dcfd.js"><link rel="prefetch" href="/assets/js/41.8ef5d93d.js"><link rel="prefetch" href="/assets/js/42.6fb79061.js"><link rel="prefetch" href="/assets/js/43.82a5af19.js"><link rel="prefetch" href="/assets/js/44.59aed4d3.js"><link rel="prefetch" href="/assets/js/45.f50d48e1.js"><link rel="prefetch" href="/assets/js/46.93a8cfb2.js"><link rel="prefetch" href="/assets/js/47.3c251ced.js"><link rel="prefetch" href="/assets/js/48.38b10cbe.js"><link rel="prefetch" href="/assets/js/49.a073a187.js"><link rel="prefetch" href="/assets/js/5.4ffa01f2.js"><link rel="prefetch" href="/assets/js/50.1f89d19c.js"><link rel="prefetch" href="/assets/js/51.0378ab98.js"><link rel="prefetch" href="/assets/js/52.e3720aef.js"><link rel="prefetch" href="/assets/js/53.36161899.js"><link rel="prefetch" href="/assets/js/54.721004f5.js"><link rel="prefetch" href="/assets/js/55.d307aecb.js"><link rel="prefetch" href="/assets/js/56.d54c9c15.js"><link rel="prefetch" href="/assets/js/57.b6b7c537.js"><link rel="prefetch" href="/assets/js/58.869601b8.js"><link rel="prefetch" href="/assets/js/59.508824bf.js"><link rel="prefetch" href="/assets/js/6.c55d2fe6.js"><link rel="prefetch" href="/assets/js/60.70580ecb.js"><link rel="prefetch" href="/assets/js/61.008c3a06.js"><link rel="prefetch" href="/assets/js/62.06c5d100.js"><link rel="prefetch" href="/assets/js/63.e9bf2425.js"><link rel="prefetch" href="/assets/js/64.bcfa5861.js"><link rel="prefetch" href="/assets/js/65.0035a0c3.js"><link rel="prefetch" href="/assets/js/66.36d619f7.js"><link rel="prefetch" href="/assets/js/67.8dc67b33.js"><link rel="prefetch" href="/assets/js/68.fbf4d68c.js"><link rel="prefetch" href="/assets/js/69.141e8266.js"><link rel="prefetch" href="/assets/js/7.647429c8.js"><link rel="prefetch" href="/assets/js/70.9780fe09.js"><link rel="prefetch" href="/assets/js/71.404ad4d3.js"><link rel="prefetch" href="/assets/js/73.8852d25b.js"><link rel="prefetch" href="/assets/js/74.5cbcad7b.js"><link rel="prefetch" href="/assets/js/75.b8b8570e.js"><link rel="prefetch" href="/assets/js/76.92df56e2.js"><link rel="prefetch" href="/assets/js/77.9cb135eb.js"><link rel="prefetch" href="/assets/js/78.d1317e33.js"><link rel="prefetch" href="/assets/js/79.81147cba.js"><link rel="prefetch" href="/assets/js/8.19d34e47.js"><link rel="prefetch" href="/assets/js/80.c430ba95.js"><link rel="prefetch" href="/assets/js/81.65a9abb9.js"><link rel="prefetch" href="/assets/js/82.50f6663a.js"><link rel="prefetch" href="/assets/js/83.d4ce0001.js"><link rel="prefetch" href="/assets/js/84.8c5964db.js"><link rel="prefetch" href="/assets/js/85.1e6f2c17.js"><link rel="prefetch" href="/assets/js/86.f72fb8cf.js"><link rel="prefetch" href="/assets/js/87.572422a3.js"><link rel="prefetch" href="/assets/js/88.1c40aa4f.js"><link rel="prefetch" href="/assets/js/89.eaa1e3a6.js"><link rel="prefetch" href="/assets/js/9.2a47aba7.js"><link rel="prefetch" href="/assets/js/90.a210f38b.js"><link rel="prefetch" href="/assets/js/91.976bc16f.js"><link rel="prefetch" href="/assets/js/92.826a2480.js"><link rel="prefetch" href="/assets/js/93.d5b0bf54.js"><link rel="prefetch" href="/assets/js/94.182d5842.js"><link rel="prefetch" href="/assets/js/95.cee6c154.js"><link rel="prefetch" href="/assets/js/96.e00cc6aa.js"><link rel="prefetch" href="/assets/js/97.d4cfb682.js"><link rel="prefetch" href="/assets/js/98.569e77cb.js"><link rel="prefetch" href="/assets/js/99.5e2fd19b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.3c664a3a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0cf1db6b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Domainsun的英语自学笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/英语/" class="nav-link">
  英语
</a></div><div class="nav-item"><a href="/技术/" class="nav-link">
  技术
</a></div><div class="nav-item"><a href="/工具资源/" class="nav-link">
  工具资源
</a></div><div class="nav-item"><a href="/个人生活/" class="nav-link">
  个人生活
</a></div><div class="nav-item"><a href="/" class="nav-link">
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/英语/" class="nav-link">
  英语
</a></div><div class="nav-item"><a href="/技术/" class="nav-link">
  技术
</a></div><div class="nav-item"><a href="/工具资源/" class="nav-link">
  工具资源
</a></div><div class="nav-item"><a href="/个人生活/" class="nav-link">
  个人生活
</a></div><div class="nav-item"><a href="/" class="nav-link">
  关于
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>RecyclerView</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#开发遇到的问题" class="sidebar-link">开发遇到的问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#添加间距" class="sidebar-link">添加间距</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#grid布局间距" class="sidebar-link">grid布局间距</a></li></ul></li><li><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#表格布局最后一行设置间距" class="sidebar-link">表格布局最后一行设置间距</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#设置分割线" class="sidebar-link">设置分割线</a></li><li class="sidebar-sub-header"><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#关闭拉伸效果" class="sidebar-link">关闭拉伸效果</a></li></ul></li><li><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#recyclerview做聊天页面" class="sidebar-link">RecyclerView做聊天页面</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#弹出键盘时-recyclerview内容被遮挡" class="sidebar-link">弹出键盘时，recyclerview内容被遮挡</a></li></ul></li><li><a href="/%E6%8A%80%E6%9C%AF/Android/7%E3%80%81RecyclerView.html#初始化adapter" class="sidebar-link">初始化adapter</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="recyclerview"><a href="#recyclerview" class="header-anchor">#</a> RecyclerView</h3> <h4 id="基本结构"><a href="#基本结构" class="header-anchor">#</a> 基本结构</h4> <ul><li><p>**RecyclerView：**RecyclerView本身是一个ViewGroup， 只是作为一个父view来填充子view。在这个类中有内部类LayoutManager、Recycler、ViewHolder、Adapter分别实现他的布局管理和数据复用、UI展示。</p></li> <li><p>**LayoutManager：**布局管理器LayoutManager才真正负责RecyclerView的填充、回收、测量、布局、滚动的逻辑。在源码中，RecyclerView的measure测量方法和layout布局方法实际上调用了LayoutManager的测量和布局方法。LayoutManager接管了RecyclerView的测量和布局流程。</p></li> <li><p>**Recycler：**Recycler管理ViewHolder，负责ViewHolder的回收和复用，并实现4级缓存。4级缓存分别是屏幕内缓存、屏幕外缓存、自定义缓存、缓存池缓存。 LayoutManager向Recycler要ViewHolder的时候，会依次从 屏幕内-&gt;屏幕外-&gt;自定义-&gt;缓存池获取。 获取不到就会走onCreateViewHolder方法来创建ViewHolder。</p> <ol><li><p>屏幕内缓存和屏幕外缓存通过position来获取，有就直接拿出来用，不会走onBindViewHolder方法来重新绑定数据，刷新展示。 屏幕外缓存的默认个数是2个。满了之后就会把原先添加进来的缓存到缓存池缓存中，再缓存后添加进来到自身。</p></li> <li><p>自定义缓存是需要开发者自己来实现的一个扩展缓存。 用于其他缓存不能够满足需求的时候使用。 比如通过position来获取， 但是需要刷新数据的复用情况。</p></li> <li><p>缓存池是通过ViewType来获取和存储ViewHolder的，这个VeiwType是int值。通过SparseArray进行键值对存储。默认一个VeiwType类型存储5个。超出之后就会把之前添加的移除后再添加。</p></li></ol></li> <li><p>**ViewHolder内容：**里面存储的字段：itemView、mPosition、mItemViewType</p></li> <li><p>**Adapter：**Adapter的作用就是将data数据，ItemView视图转换成ViewHolder。 对应上面说的onCreateViewHolder和onBindViewHolder方法。 并在数据刷新更新的时候刷新数据。</p></li> <li><p>**Adapter的数据刷新：**通过观察者模式实现，在调用Adapter.notifyDataSetChanged中，AdapterDataObservable这个被观察者调用了每一个观察者AdapterDataObserver的onChange方法，在这个方法中，调用了RecyclerView的重新测量和布局，就回到了上面的LayoutManager接管RecyclerView的测量布局的流程上了。</p></li></ul> <h4 id="优化"><a href="#优化" class="header-anchor">#</a> 优化</h4> <ul><li>减少item的布局的嵌套层级、 减少ViewType的类型</li> <li>根据业务需求配置缓存机制，如配置来回滑动的业务，配置屏幕外的缓存个数多些。如，内容不变，位置不变的view，自定义缓存机制实现create和bind只走一次</li> <li>优化bind方法、 注意耗时操作、点击事件，业务数据计算（可在model中定义一个字段来避免重复计算）。因为bind方法在ViewHolder复用，刷新数据时会被再次调用</li> <li>item高度如果是固定的，可以设置给recyclerview.setHasFixedSize，优化测量性能</li> <li>注意使用notifyDataSetChanged、局部修改可用notifyItemChanged这样的方法。</li></ul> <h4 id="和listview的不同"><a href="#和listview的不同" class="header-anchor">#</a> 和ListView的不同</h4> <ul><li><p>缓存机制的不同</p> <p>ListView只有两级缓存，屏幕内缓存和屏幕外缓存。 RecyclerView有4级缓存，可参考上面。</p></li> <li><p>复用对象的不同</p> <p>ListView回收复用的View、RecyclerView回收复用的ViewHolder。因为ListView缓存的对象是View，在每次复用View时，都要通过View的findViewById来获取控件，非常消耗性能。</p></li> <li><p>整体实现结构上的不同</p> <p>ListView的测量、布局、滚动、缓存等等这些逻辑都是在ListView这一个类里面处理。 RecyclerView把这些逻辑抽离出来，托管给布局管理器、缓存管理器处理。这样扩展性更强，方便实现不同方式的列表布局和缓存。</p></li> <li><p>一些API接口上的不同</p> <p>ListView可以直接设置列表的headerView，footerView和emptyView。RecyclerView没有对应的方法。在滚动监听上二者所提供方法也不同。</p></li></ul> <h4 id="自定义布局管理器"><a href="#自定义布局管理器" class="header-anchor">#</a> 自定义布局管理器</h4> <p>自定义布局管理是很强大也经常用到的功能。 当系统自带的线性布局、表格布局满足不了需求的时候，就需要自定义布局管理器了。 甚至很多可以用其他方式实现的功能，也可以通过自定义布局管理器来完成。比如，左右滑动的画廊效果，上下自动滚动的跑马灯效果，流式文本展示效果、抖音上下翻动效果，探探左右滑动选择卡片效果。</p> <h5 id="自定义布局管理的步骤"><a href="#自定义布局管理的步骤" class="header-anchor">#</a> 自定义布局管理的步骤</h5> <ul><li><p>集成RecyclerView.LayoutManager，重写generateDefaultLayoutParams方法，这个方法返回的参数表示子view的布局方式，是warp还是match。 一般返回warp即可。</p></li> <li><p>重写onLayoutChildren来实现第一次加载时，填充子view的逻辑。</p></li> <li><p>重写canScrollVertically返回true来支持垂直滚动，重写scrollVerticallyBy来实现，view随手势上下滑的逻辑和滚动时子view的回收和填充逻辑。当然对应水平滑动的方法是，canScrollHorizontally和scrollHorizontallyBy。</p></li></ul> <p>自定义的管理器的难点主要在于view的填充和回收逻辑。</p> <h2 id="开发遇到的问题"><a href="#开发遇到的问题" class="header-anchor">#</a> 开发遇到的问题</h2> <p>进来之后自动滚动， recyclerview抢占焦点导致， 在布局添加：</p> <div class="language- extra-class"><pre class="language-text"><code>android:focusable=&quot;true&quot;
android:focusableInTouchMode=&quot;true&quot;
</code></pre></div><h2 id="添加间距"><a href="#添加间距" class="header-anchor">#</a> 添加间距</h2> <div class="language- extra-class"><pre class="language-text"><code>  binding.rv.addItemDecoration(getItemDecoration());


    private RecyclerView.ItemDecoration getItemDecoration() {
        return new RecyclerView.ItemDecoration() {
            @Override
            public void getItemOffsets(@NonNull Rect outRect, @NonNull View view, @NonNull RecyclerView parent, @NonNull RecyclerView.State state) {
//                if (parent.getChildAdapterPosition(view) == 0){ //给第一位的item设置50上边距
//                    outRect.top = 50;
//                    return;
//                }
                if (parent.getChildAdapterPosition(view) == state.getItemCount() -1 ){ //给最后一位的item设置50下边距
                    outRect.bottom = 80;
                     return;
                }
            }
        };
    }
</code></pre></div><h3 id="grid布局间距"><a href="#grid布局间距" class="header-anchor">#</a> grid布局间距</h3> <div class="language- extra-class"><pre class="language-text"><code>int spanCount = 3; // 3 columns
int spacing = 10; // 50px
boolean includeEdge = false;
binding.rv.addItemDecoration(new GridSpacingItemDecoration(spanCount, spacing, includeEdge));



public class GridSpacingItemDecoration extends RecyclerView.ItemDecoration {

    private int spanCount; //列数
    private int spacing; //间隔
    private boolean includeEdge; //是否包含边缘

    public GridSpacingItemDecoration(int spanCount, int spacing, boolean includeEdge) {
        this.spanCount = spanCount;
        this.spacing = spacing;
        this.includeEdge = includeEdge;
    }

    @Override
    public void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {

        //这里是关键，需要根据你有几列来判断
        int position = parent.getChildAdapterPosition(view); // item position
        int column = position % spanCount; // item column

        if (includeEdge) {
            outRect.left = spacing - column * spacing / spanCount; // spacing - column * ((1f / spanCount) * spacing)
            outRect.right = (column + 1) * spacing / spanCount; // (column + 1) * ((1f / spanCount) * spacing)

            if (position &lt; spanCount) { // top edge
                outRect.top = spacing;
            }
            outRect.bottom = spacing; // item bottom
        } else {
            outRect.left = column * spacing / spanCount; // column * ((1f / spanCount) * spacing)
            outRect.right = spacing - (column + 1) * spacing / spanCount; // spacing - (column + 1) * ((1f /    spanCount) * spacing)
            if (position &gt;= spanCount) {
                outRect.top = spacing; // item top
            }
        }
    }
}
</code></pre></div><h2 id="表格布局最后一行设置间距"><a href="#表格布局最后一行设置间距" class="header-anchor">#</a> 表格布局最后一行设置间距</h2> <div class="language- extra-class"><pre class="language-text"><code>       android:paddingBottom=&quot;10dp&quot;
       android:clipToPadding=&quot;false&quot;
</code></pre></div><h3 id="设置分割线"><a href="#设置分割线" class="header-anchor">#</a> 设置分割线</h3> <div class="language- extra-class"><pre class="language-text"><code>        int color = ContextCompat.getColor(this, R.color.bg_f2);
        binding.rv.addItemDecoration(CommItemDecoration.createVertical(this, color, 1));

</code></pre></div><h3 id="关闭拉伸效果"><a href="#关闭拉伸效果" class="header-anchor">#</a> 关闭拉伸效果</h3> <div class="language-xml extra-class"><pre class="language-xml"><code>  android:overScrollMode=&quot;never&quot;
</code></pre></div><h2 id="recyclerview做聊天页面"><a href="#recyclerview做聊天页面" class="header-anchor">#</a> RecyclerView做聊天页面</h2> <h3 id="弹出键盘时-recyclerview内容被遮挡"><a href="#弹出键盘时-recyclerview内容被遮挡" class="header-anchor">#</a> 弹出键盘时，recyclerview内容被遮挡</h3> <p>https://www.cnblogs.com/liyiran/p/7490740.html</p> <h2 id="初始化adapter"><a href="#初始化adapter" class="header-anchor">#</a> 初始化adapter</h2> <div class="language- extra-class"><pre class="language-text"><code>public void initAdapter(WishAdapter.ItemLongClick itemLongClick) {
    mAdapter = new WishAdapter();
    mAdapter.setItemLongClick(itemLongClick);
    mAdapter.setOnItemClickListener(new BaseQuickAdapter.OnItemClickListener() {
        @Override
        public void onItemClick(BaseQuickAdapter adapter, View view, int position) {
            WishDetailActivity.start(ActivityManager.getInstance().getActivity(WishHomeActivity.class), mAdapter.getData().get(position).getMemberWorshipId());
        }
    });
    
binding.rv.setLayoutManager(new GridLayoutManager(this, 2));
binding.rv.setAdapter(viewModel.mAdapter);
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/9/2024, 11:22:13 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.75a2606c.js" defer></script><script src="/assets/js/3.7b5fc60a.js" defer></script><script src="/assets/js/1.84786563.js" defer></script><script src="/assets/js/72.d583bcc1.js" defer></script>
  </body>
</html>
